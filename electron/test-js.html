<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>JavaScript Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        .success {
            background-color: #e0f7fa;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #4fc3f7;
        }
        .error {
            background-color: #ffebee;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #ef5350;
        }
        pre {
            background-color: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            overflow: auto;
        }
        button {
            padding: 8px 16px;
            background-color: #2196f3;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }
        button:hover {
            background-color: #1976d2;
        }
    </style>
    <script>
        // This function will run when the page loads
        window.onload = function() {
            try {
                // Update the status message
                document.getElementById('js-status').textContent = 'JavaScript is working!';
                document.getElementById('js-status-container').className = 'success';
                
                // Get environment info
                const electronInfo = window.electron ? 'Electron API is available' : 'Electron API is NOT available';
                document.getElementById('electron-info').textContent = electronInfo;
                
                // Test DOM manipulation
                const testDiv = document.createElement('div');
                testDiv.textContent = 'This div was created by JavaScript at ' + new Date().toLocaleTimeString();
                document.getElementById('dynamic-content').appendChild(testDiv);
                
                // Log success
                console.log('JavaScript initialization successful');
            } catch (error) {
                // Log and display any errors
                console.error('JavaScript error:', error);
                document.getElementById('error-info').textContent = error.toString();
                document.getElementById('error-container').style.display = 'block';
            }
        };
        
        // Function to test button click
        function testButtonClick() {
            const clickResult = document.getElementById('click-result');
            clickResult.textContent = 'Button clicked at ' + new Date().toLocaleTimeString();
            clickResult.style.display = 'block';
        }
        
        // Function to load the React app
        function loadReactApp() {
            try {
                // Get the path to the modified index.html
                const path = './modified-index.html';
                window.location.href = path;
            } catch (error) {
                console.error('Error loading React app:', error);
                document.getElementById('error-info').textContent = error.toString();
                document.getElementById('error-container').style.display = 'block';
            }
        }
    </script>
</head>
<body>
    <h1>JavaScript Test Page</h1>
    
    <div id="js-status-container">
        <h2>JavaScript Status</h2>
        <p id="js-status">If you see this message, JavaScript is NOT working.</p>
    </div>
    
    <div>
        <h2>Electron API Status</h2>
        <p id="electron-info">Checking Electron API availability...</p>
    </div>
    
    <div>
        <h2>Dynamic Content Test</h2>
        <div id="dynamic-content"></div>
        <button onclick="testButtonClick()">Test Button Click</button>
        <p id="click-result" style="display: none;"></p>
    </div>
    
    <div>
        <h2>Load React App</h2>
        <p>If JavaScript is working, you can try loading the React app:</p>
        <button onclick="loadReactApp()">Load React App</button>
    </div>
    
    <div id="error-container" class="error" style="display: none;">
        <h2>JavaScript Error</h2>
        <pre id="error-info">No errors detected.</pre>
    </div>
    
    <noscript>
        <div class="error">
            <h2>JavaScript Disabled</h2>
            <p>JavaScript is disabled or not working in this browser. This application requires JavaScript to function properly.</p>
        </div>
    </noscript>
</body>
</html>
